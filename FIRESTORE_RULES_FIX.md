[{"read": "if isOwner(userId);\n  allow create: if isAuthenticated();\n  allow update: if isOwner(userId) &&\n                request.resource.data.diff(resource.data).affectedKeys().hasOnly(['read']);\n  allow delete: if isOwner(userId) || isAdmin();"}, {"pushed": true}, {"end": "javascript\nmatch /{document=**"}, {"write": "if isAuthenticated();"}, {"read": "if isOwner(userId);\n  allow create: if isAuthenticated();\n  \n  // Allow owner to update 'read' field", "pushed": "allow update: if (isOwner(userId) && \n                   request.resource.data.diff(resource.data).affectedKeys().hasOnly(['read'])) ||\n                  isAdmin();\n  \n  allow delete: if isOwner(userId) || isAdmin();"}, {"read": "if isOwner(userId) || isAdmin();\n  allow create: if isOwner(userId) || isAdmin();\n  allow update: if isOwner(userId) || isAdmin();\n  allow delete: if isOwner(userId) || isAdmin();"}, {"write": "if isAuthenticated();"}, {"write": "if false;"}, {"pushed": true, "devices": "Ensure the device is registered in Firestore\n   - Verify the notification channel is created\n   - Check that notifications appear in the notification tray\n\n5. **Verify device registration** in Firestore:\n   - Navigate to `users/{userId"}]